close all;
addpath('../train');
cd('../train');
p=initParameter;
cd('../test');
im=rgb2gray(getIm(2,p));
bg=p.bggray;
G=abs(im2double(im)-im2double(bg));
m=max(G(:));
H=zeros(size(G));
H(G>m*0.1)=1;
% figure;imshow(im);
% figure;imshow(H);
[r,c]=find(H);
x=[r c]';
bandwidth=5;
[clustCent,point2cluster,clustMembsCell] = MeanShiftCluster(x,bandwidth);
c=clustCent(2,:);
r=clustCent(1,:);
imshow(im);
hold on;
plot(c,r,'.');
% subplot(1,2,2);